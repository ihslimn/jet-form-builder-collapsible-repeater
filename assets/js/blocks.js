(()=>{"use strict";var e="jfb_collapsible_repeater_enabled",t={"jet-forms/repeater-field":!0};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,l){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=wp.hooks.addFilter,c=wp.compose.createHigherOrderComponent,p=wp.blockEditor.InspectorControls,u=wp.components,b=(u.TextControl,u.ToggleControl),s=u.Panel,f=u.PanelRow,m=u.PanelBody,y=c((function(r){return function(l){var n=l.name,o=t[n]||!1;if(!o)return wp.element.createElement(r,l);var a=l.attributes,c=l.setAttributes,u=l.isSelected;return wp.element.createElement(React.Fragment,null,wp.element.createElement(r,l),u&&wp.element.createElement(p,null,wp.element.createElement(s,null,wp.element.createElement(m,{title:"Collabsible",initialOpen:!1},o&&wp.element.createElement(f,null,wp.element.createElement(b,{label:"Is collapsible",help:a[e]?'Enabled. Don\'t forget to put "Repeater Collapsed Fields Start" block before the fields that should be collapsed.':"Disabled.",checked:a[e],onChange:function(){var t,r,l;c((t={},r=e,l=!a[e],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,"string");if("object"!==i(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(r))in t?Object.defineProperty(t,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[r]=l,t))}}))))))}}),"addControls");a("editor.BlockEdit","jfb-repeater-collapsible/controls",y);var d=wp.blocks.registerBlockType,w=wp.components.ToggleControl;(0,wp.hooks.addFilter)("blocks.registerBlockType","jfb-repeater-collapsible/blockAttributes",(function(r,l){return t[l]?(r.attributes=n(n({},r.attributes),{},o({},e,{type:"boolean",default:!1})),r):r})),document.addEventListener("jet-form-builder-initialized",(function(){d("jfb-repeater-collapsible/collapsed-fields-start",{title:"Repeater Collapsed Fields Start",icon:"image-flip-vertical",category:"jet-form-builder-elements",description:"Place into Repeater Field. All fields after this block will be collapsible.",attributes:{initiallyCollapsed:{type:"boolean",default:!1}},edit:function(e){var t=e.attributes,r=e.setAttributes;return e.isSelected,wp.element.createElement(React.Fragment,null,wp.element.createElement("div",null,wp.element.createElement("p",null,"Repeater Collapsed Fields Start"),wp.element.createElement(w,{label:"Collapsed initially",checked:t.initiallyCollapsed,onChange:function(e){r({initiallyCollapsed:Boolean(e)})}})))}})}))})();